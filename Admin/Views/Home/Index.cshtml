@model IEnumerable<Announcement>

@{
    ViewData["Title"] = "Dashboard";
    var totalStudents = ViewBag.TotalStudents;
}
<aside id="layout-menu" class="layout-menu menu-vertical menu bg-menu-theme">
    <div class="app-brand demo">
        <a asp-controller="Home" asp-action="Index" class="app-brand-link">
            <span class="app-brand-text demo menu-text fw-bolder ms-2">TherapiCare</span>
        </a>

        <a href="javascript:void(0);" class="layout-menu-toggle menu-link text-large ms-auto d-block d-xl-none">
            <i class="bx bx-chevron-left bx-sm align-middle"></i>
        </a>
    </div>

    <div class="menu-inner-shadow"></div>
    <ul class="menu-inner py-1">
        <!-- Dashboard -->
        <li class="menu-item active">
            <a class="menu-link" asp-area="Admin" asp-controller="Home" asp-action="Index">
                <i class="menu-icon tf-icons bx bx-home-circle"></i>
                <div data-i18n="Analytics">Dashboard</div>
            </a>
        </li>
        <li class="menu-item">
            <a class="menu-link" asp-area="Admin" asp-controller="TherapyProgram" asp-action="Index">
                <i class="menu-icon tf-icons bx bx-collection"></i>
                <div data-i18n="Analytics">Program</div>
            </a>
        </li>
        <li class="menu-item ">
            <a class="menu-link" asp-area="Admin" asp-controller="Billings" asp-action="Index">
                <i class="menu-icon tf-icons bi bi-cash"></i>
                <div data-i18n="Analytics">Billings</div>
            </a>
        </li>
        <li class="menu-item">
            <a asp-area="Admin" asp-controller="AdminList" asp-action="ListOfStudent" class="menu-link">
                <i class="menu-icon tf-icons bi bi-people"></i>
                <div data-i18n="Basic">Student List</div>
            </a>
        </li>
        <li class="menu-item">
            <a asp-area="Admin" asp-controller="AdminList" asp-action="ListOfParent" class="menu-link">
                <i class="menu-icon tf-icons bi bi-people"></i>
                <div data-i18n="Basic">Parent List</div>
            </a>
        </li>
        <li class="menu-item">
            <a href="javascript:void(0);" class="menu-link menu-toggle">
                <i class="menu-icon tf-icons bi bi-person"></i>
                <div data-i18n="Account Settings">Manage User</div>
            </a>
            <ul class="menu-sub">
                <li class="menu-item">
                    <a class="menu-link" asp-area="Admin" asp-controller="User" asp-action="Index">
                        <div data-i18n="Account">User List</div>
                    </a>
                </li>
                <li class="menu-item">
                    <a class="menu-link" asp-area="Identity" asp-page="/Account/Register">
                        <div data-i18n="Notifications">Register Staff</div>
                    </a>
                </li>
            </ul>
        </li>
        <li class="menu-item ">
            <a asp-area="Admin" asp-controller="Announcements" asp-action="Index" class="menu-link">

                <i class="flex-shrink-0 bx bi-megaphone me-2"></i>
                <div data-i18n="Basic"> Announcement</div>
            </a>
        </li>
    </ul>
</aside>


<div class="container-xxl flex-grow-1 container-p-y">
    <!-- Welcome Card -->
    <div class="row">
        <div class="col-lg-12 mb-4 order-0">
            <div class="card">
                <div class="d-flex align-items-end row">
                    <div class="col-sm-7">
                        <div class="card-body">
                            <h1 class="card-title text-primary">Welcome!</h1>
                            <p class="mb-4">Welcome to TherapiCare, your comprehensive solution for therapy management.</p>
                            <a asp-area="Admin" asp-controller="Admins" asp-action="Index" class="btn btn-sm btn-outline-primary">View Profile</a>

                        </div>
                    </div>
                    <div class="col-sm-5 text-center text-sm-left">
                        <div class="card-body pb-0 px-0 px-md-4">
                            <img src="../assets/img/illustrations/man-with-laptop-light.png" height="140" alt="View Badge User" data-app-dark-img="illustrations/man-with-laptop-dark.png" data-app-light-img="illustrations/man-with-laptop-light.png" />
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Metrics and Charts -->
    <div class="row">
        <!-- Metrics -->
        <div class="col-lg-3 col-md-6 mb-4">
            <div class="card h-100">
                <div class="d-flex align-items-end row h-100">
                    <div class="col-sm-12">
                        <div class="card-body">
                            <div class="card-title d-flex align-items-start justify-content-between">
                                <div class="avatar flex-shrink-0">
                                    <img src="../assets/img/icons/unicons/chart-success.png" alt="chart success" class="rounded" />
                                </div>
                                @* <div class="dropdown">
                                <button class="btn p-0" type="button" id="cardOpt1" data-bs-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
                                <i class="bx bx-dots-vertical-rounded"></i>
                                </button>
                                <div class="dropdown-menu dropdown-menu-end" aria-labelledby="cardOpt1">
                                <a asp-area="Admin" asp-controller="User" asp-action="Index" class="dropdown-item">View More</a>
                                </div>
                                </div> *@
                            </div>
                            <span class="fw-semibold d-block mb-1">Total Students</span>
                            <h3 class="card-title mb-2">@ViewBag.TotalStudents</h3>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- Second Box -->
        <div class="col-lg-3 col-md-6 mb-4">
            <div class="card h-100">
                <div class="d-flex align-items-end row h-100">
                    <div class="col-sm-12">
                        <div class="card-body">
                            <div class="card-title d-flex align-items-start justify-content-between">
                                <div class="avatar flex-shrink-0">
                                    <img src="../assets/img/icons/unicons/wallet-info.png" alt="Credit Card" class="rounded" />
                                </div>
                                @* <div class="dropdown">
                                <button class="btn p-0" type="button" id="cardOpt2" data-bs-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
                                <i class="bx bx-dots-vertical-rounded"></i>
                                </button>
                                <div class="dropdown-menu dropdown-menu-end" aria-labelledby="cardOpt2">
                                <a asp-area="Admin" asp-controller="Session" asp-action="Index" class="dropdown-item">View More</a>
                                </div>
                                </div> *@
                            </div>
                            <span>Total Sessions</span>
                            <h3 class="card-title text-nowrap mb-1">@ViewBag.TotalSessions</h3>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- Third Box -->
        <div class="col-lg-3 col-md-6 mb-4">
            <div class="card h-100">
                <div class="d-flex align-items-end row h-100">
                    <div class="col-sm-12">
                        <div class="card-body">
                            <div class="card-title d-flex align-items-start justify-content-between">
                                <div class="avatar flex-shrink-0">
                                    <img src="../assets/img/icons/unicons/paypal.png" alt="Credit Card" class="rounded" />
                                </div>
                                @* <div class="dropdown">
                                <button class="btn p-0" type="button" id="cardOpt3" data-bs-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
                                <i class="bx bx-dots-vertical-rounded"></i>
                                </button>
                                <div class="dropdown-menu dropdown-menu-end" aria-labelledby="cardOpt3">
                                <a class="dropdown-item" href="javascript:void(0);">View More</a>
                                </div>
                                </div> *@
                            </div>
                            <span class="d-block mb-1">Sales this Month</span>
                            <h3 class="card-title text-nowrap mb-2">RM @ViewBag.SalesThisMonth</h3>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- Fourth Box -->
        <div class="col-lg-3 col-md-6 mb-4">
            <div class="card h-100">
                <div class="d-flex align-items-end row h-100">
                    <div class="col-sm-12">
                        <div class="card-body">
                            <div class="card-title d-flex align-items-start justify-content-between">
                                <div class="avatar flex-shrink-0">
                                    <img src="../assets/img/icons/unicons/cc-primary.png" alt="Credit Card" class="rounded" />
                                </div>
                                @* <div class="dropdown">
                                <button class="btn p-0" type="button" id="cardOpt4" data-bs-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
                                <i class="bx bx-dots-vertical-rounded"></i>
                                </button>
                                <div class="dropdown-menu dropdown-menu-end" aria-labelledby="cardOpt4">
                                <a class="dropdown-item" href="javascript:void(0);">View More</a>
                                </div>
                                </div> *@
                            </div>
                            <span class="fw-semibold d-block mb-1">Total Sales</span>
                            <h3 class="card-title mb-2">RM @ViewBag.TotalSales</h3>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <div class="row">
        <!-- Announcements -->
        <div class="col-lg-6 mb-4">
            <div class="card h-100 position-relative">
                <div class="card-body">
                    <div class="position-absolute top-0 end-0 m-3">
                        <a asp-controller="Announcements" asp-action="Create" class="btn rounded-pill btn-primary" type="button">
                            <i class="bi bi-pencil-square"></i>
                        </a>
                        <a asp-controller="Announcements" asp-action="Index" class="btn rounded-pill btn-outline-primary" type="button">
                            <i class="bi bi-three-dots"></i>
                        </a>
                    </div>
                    <div class="mt-3">
                        <h5> Newest Announcements</h5>
                        @if (ViewBag.NewestAnnouncements != null && ViewBag.NewestAnnouncements.Count > 0)
                        {
                            <table class="table table-striped">
                                <thead>
                                    <tr>
                                        <th scope="col">Title</th>
                                        <th scope="col">Date</th>
                                    </tr>
                                </thead>
                                <tbody>
                                    @foreach (var announcement in ViewBag.NewestAnnouncements)
                                    {
                                        <tr>
                                            <td>@announcement.a_title</td>
                                            <td>@announcement.a_date.ToString("MMMM dd, yyyy")</td>
                                        </tr>
                                    }
                                </tbody>
                            </table>
                        }
                        else
                        {
                            <p>No announcements have been posted yet.</p>
                        }
                    </div>
                </div>
            </div>
        </div>

        <!-- Programs -->
        <div class="col-lg-6 mb-4">
            <div class="card h-100 position-relative">
                <div class="card-body">
                    <div class="position-absolute top-0 end-0 m-3">
                        <a asp-controller="TherapyProgram" asp-action="Create" class="btn rounded-pill btn-primary" type="button">
                            <i class="bi bi-pencil-square"></i>
                        </a>
                        <a asp-controller="TherapyProgram" asp-action="Index" class="btn rounded-pill btn-outline-primary" type="button">
                            <i class="bi bi-three-dots"></i>
                        </a>
                    </div>
                    <div class="mt-3">
                        <h5> Programs</h5>
                        @if (ViewBag.NewestPrograms != null && ViewBag.NewestPrograms.Count > 0)
                        {
                            <table class="table table-striped">
                                <thead>
                                    <tr>
                                        <th scope="col">Name</th>
                                        <th scope="col">Description</th>
                                    </tr>
                                </thead>
                                <tbody>
                                    @foreach (var program in ViewBag.NewestPrograms)
                                    {
                                        <tr>
                                            <td>@program.Name</td>
                                            <td>@program.Description</td>
                                        </tr>
                                    }
                                </tbody>
                            </table>
                        }
                        else
                        {
                            <p>No programs available.</p>
                        }
                    </div>
                </div>
            </div>
        </div>
    </div>







</div>
</div>





